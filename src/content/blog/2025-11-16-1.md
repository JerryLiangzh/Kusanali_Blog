---

title: '建站存档点-1'

publishDate: 2025-11-16

description: '建站记录'

author: 'Jerry Liangzh'

tags: ["建站"]

---
## 是什么？

本文旨在为8月末至今的建站阶段做一个小结。过去的这几个月中，凡涉及博客事务，对我而言，大抵是在折腾主题与其他配置，或是测试一下博客各组件的一些功能，博文的产出反而不是重点。但随着昨晚把困扰我已久的一个疑惑解决后，我觉得中心似乎已经可以转移了。尽管本博客的views&comments统计功能仍未正常，不过可徐徐图之，重点还是写写博文吧。

在[博客启航规划](https://kusanali.top/blog/first-formal-blog/)中我曾提及，我的Computer Science水平并不算高，在建站等事上更多的也只是止于将各种AI回答与搜索引擎结果去粗取精、融合运用，类似于二级结论的学习与记忆，不能像所谓的数理高手一样无师自通或举一反三，或者是现场推公式，因此本文也不会详细把每一步都一一列出，而是给出相关参考链接。

## Astro Theme Pure & Cloudflare Pages

Astro Theme Pure的使用，可见[主题GitHub页面](https://github.com/cworld1/astro-theme-pure)与[主题文档](https://astro-pure.js.org/docs)。Fork或用template部署后，src/pages里的个性化修改并不难，很多只是文本的简单替换。不过在Astro Theme Pure v4.0.9在根目录里的tsconfig.json引入的verbatimModuleSyntax，或可考虑关闭。相较于Template而言，个人更推荐fork，后续升级会更为简便，免得像我一样。

Cloudflare Pages部署，可见[Astro + Cloudflare pages 快速搭建个人博客](https://yaoqx.netlify.app/blog/2024-08-15/#heading-5)与[Astro搭建个人博客](https://www.cnblogs.com/yinph/p/18549888)。记得把astro.config.ts中的adapter删除或注释，output内容改为static。

另外，我个人不喜欢我的博客上出现赞助按钮或链接，因此曾花了一段时间研究这个怎么删，昨晚才解开疑惑。之所以需要研究，确实是我比较菜，或者眼瞎。
要删除，可以：
- 删除src\components\projects\Sponsorship.astro与src\components\projects\Sponsors.astro；把packages\pure\components\pages\Copyright.astro中关于sponsor的部分删除；删除About&Projects页面的sponsor部分
- 将各种astro组件或文件中import部分路径从astro-pure改成packages\pure中的具体部分。不过我没有在最开始bun install，不然改起来也不会如此麻烦；或可改动packages\pure\package.json中url位置，不过没试过

## waline与umami引入

waline的引入我并不局限于简单的构建使用，而是参考了[Astro 修改(4) -- 更快、更安全的 Waline 评论](https://blog.ixiaocai.net/posts/Astro-Blog-Customize-4-Waline-Enhancement/)。但其中MongoDB的部分，其中部分页面与现在部署的页面有不少区别，当初我折腾了一晚上也没能成功，因此还是不不得不用LeanCloud。其余可见[waline文档](https://waline.js.org/guide/)与[Astro Theme Pure中关于Comment system的配置](https://astro-pure.js.org/docs/integrations/comment)。不过博客若使用Cloudflare部署后，使用waline会无法显示评论者ip，参考这个[解决办法](https://blog.xgclevo.top/posts/7824742a/)。

umami则见[umami官方文档](https://umami.is/docs)与[Umami博客访问统计Vercel+Cloudflare Wokers部署](https://myblog.kemiaofx.cn/posts/2025-04-06-Umami-deploy)。

## 图床构建

图床构建我选择使用Cloudflare R2的Free Plan，搭配[PicList](https://piclist.cn/)以及[Webp Cloud](https://docs.webp.se/webp-cloud/)。具体教程可见[从零开始搭建你的免费图床系统](https://www.pseudoyu.com/zh/2024/06/30/free_image_hosting_system_using_r2_webp_cloud_and_picgo)。关于隐私与版权保护，也有同一作者的[升级版教程](https://www.pseudoyu.com/zh/2024/07/02/protect_your_image_using_webp_and_cloudflare_waf)。